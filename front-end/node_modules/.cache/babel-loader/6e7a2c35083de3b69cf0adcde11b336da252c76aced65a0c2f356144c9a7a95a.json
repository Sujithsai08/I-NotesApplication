{"ast":null,"code":"import _slicedToArray from\"D:/vs_code/React_applications_learning/i-notes/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios,{HttpStatusCode}from'axios';import React,{useState}from'react';import{useNavigate}from'react-router-dom';import Swal from'sweetalert2';import Loader from'../Loader';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var AddNoteForm=function AddNoteForm(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),category=_useState2[0],setCategory=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),noteTitle=_useState4[0],setNoteTitle=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),description=_useState6[0],setDescriprion=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isLoading=_useState8[0],setIsLoading=_useState8[1];var updateCategory=function updateCategory(e){setCategory(e.target.value);};var updateNoteTitle=function updateNoteTitle(e){setNoteTitle(e.target.value);};var updateDescription=function updateDescription(e){setDescriprion(e.target.value);};var navigate=useNavigate();var checkTokenExist=function checkTokenExist(){if(localStorage.getItem('tokenForValidation')===null){Swal.fire({title:\"Please Login again\",icon:\"error\"}).then(function(){navigate('/login');});return false;}else{return true;}};var submitDetails=function submitDetails(){if(category.length!==0&&noteTitle.length!==0&&description.length!==0){if(checkTokenExist()){setIsLoading(function(prevState){return!prevState;});var config={headers:{'Authorization':localStorage.getItem('tokenForValidation'),'CategoryName':category}};var url=\"https://inotes-application.onrender.com/user/addNote\";var data={'title':noteTitle,'content':description};axios.post(url,data,config).then(function(res){if(res.status===HttpStatusCode.Created){Swal.fire(\"Success\",\"Your Note has been added successfully!\",\"success\");}setCategory(\"\");setNoteTitle(\"\");setDescriprion(\"\");}).catch(function(err){if(err.response){Swal.fire({icon:\"error\",title:\"Error!\",text:\"\".concat(err.response.data,\" !!! \")});}else{Swal.fire({icon:\"error\",title:\"Error!\",text:\"Internal Errors occured Try Again \".concat(err.message,\" !!! \")});}}).finally(function(){setIsLoading(false);});}}else{Swal.fire({icon:\"error\",title:\"Error!\",text:'Please Fill All Fields',showConfirmButton:false,timer:2000});}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-center fs-2 mt-1\",style:{fontFamily:'Ubuntu',fontWeight:'bolder'},children:\"Add Note :-\"}),isLoading?/*#__PURE__*/_jsx(\"div\",{className:\"mt-5\",children:/*#__PURE__*/_jsx(Loader,{})}):/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2 mt-1\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"categoryName\",className:\"form-label\",children:[\"Category name \",/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:category,onChange:updateCategory,className:\"form-control\",id:\"categoryName\",\"aria-describedby\":\"emailHelp\",required:true}),/*#__PURE__*/_jsx(\"div\",{className:\"form-text\",children:\"Enter a valid category name to add a note.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"Title\",className:\"form-label\",children:[\"Note title \",/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:noteTitle,onChange:updateNoteTitle,className:\"form-control\",id:\"Title\",required:true})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(\"textarea\",{name:\"\",id:\"\",value:description,cols:\"8\",rows:\"4\",onChange:updateDescription,className:\"form-control\",required:true,placeholder:\"Enter your note..\",children:description})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:submitDetails,className:\"btn btn-primary \",children:\"Add Note\"})})]})]});};export default AddNoteForm;","map":{"version":3,"names":["axios","HttpStatusCode","React","useState","useNavigate","Swal","Loader","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AddNoteForm","_useState","_useState2","_slicedToArray","category","setCategory","_useState3","_useState4","noteTitle","setNoteTitle","_useState5","_useState6","description","setDescriprion","_useState7","_useState8","isLoading","setIsLoading","updateCategory","e","target","value","updateNoteTitle","updateDescription","navigate","checkTokenExist","localStorage","getItem","fire","title","icon","then","submitDetails","length","prevState","config","headers","url","data","post","res","status","Created","catch","err","response","text","concat","message","finally","showConfirmButton","timer","children","className","style","fontFamily","fontWeight","htmlFor","type","onChange","id","required","name","cols","rows","placeholder","onClick"],"sources":["D:/vs_code/React_applications_learning/i-notes/src/components/user/AddNoteForm.js"],"sourcesContent":["import axios, { HttpStatusCode } from 'axios'\r\nimport React, { useState } from 'react'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport Swal from 'sweetalert2'\r\nimport Loader from '../Loader'\r\n\r\nconst AddNoteForm = () => {\r\n\r\n  const [category, setCategory] = useState(\"\")\r\n  const [noteTitle, setNoteTitle] = useState(\"\")\r\n  const [description, setDescriprion] = useState()\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const updateCategory = (e) => {\r\n    setCategory(e.target.value)\r\n  }\r\n  const updateNoteTitle = (e) => {\r\n    setNoteTitle(e.target.value)\r\n  }\r\n  const updateDescription = (e) => {\r\n    setDescriprion(e.target.value)\r\n  }\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const checkTokenExist = () => {\r\n    if (localStorage.getItem('tokenForValidation') === null) {\r\n      Swal.fire({\r\n        title: \"Please Login again\",\r\n        icon: \"error\"\r\n      }).then(() => {\r\n        navigate('/login')\r\n      })\r\n      return false;\r\n    } else {\r\n      return true;\r\n    }\r\n  }\r\n  const submitDetails = () => {\r\n    if ((category.length !== 0) && (noteTitle.length !== 0) && (description.length !== 0)) {\r\n      if (checkTokenExist()) {\r\n        setIsLoading((prevState) => !prevState)\r\n        const config = {\r\n          headers: {\r\n            'Authorization': localStorage.getItem('tokenForValidation'),\r\n            'CategoryName': category\r\n          }\r\n        };\r\n        let url = \"https://inotes-application.onrender.com/user/addNote\"\r\n        let data = { 'title': noteTitle, 'content': description }\r\n        axios.post(url, data, config).then(res => {\r\n          if (res.status === HttpStatusCode.Created) {\r\n            Swal.fire(\"Success\", \"Your Note has been added successfully!\", \"success\")\r\n          }\r\n          setCategory(\"\")\r\n          setNoteTitle(\"\")\r\n          setDescriprion(\"\")\r\n        }).catch(err => {\r\n          if (err.response) {\r\n            Swal.fire({\r\n              icon: \"error\",\r\n              title: \"Error!\",\r\n              text: `${err.response.data} !!! `\r\n            })\r\n          } else {\r\n            Swal.fire({\r\n              icon: \"error\",\r\n              title: \"Error!\",\r\n              text: `Internal Errors occured Try Again ${err.message} !!! `\r\n            })\r\n          }\r\n        }).finally(() => {\r\n          setIsLoading(false)\r\n        });\r\n      }\r\n    } else {\r\n      Swal.fire({\r\n        icon: \"error\",\r\n        title: \"Error!\",\r\n        text: 'Please Fill All Fields',\r\n        showConfirmButton: false,\r\n        timer: 2000\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"text-center fs-2 mt-1\" style={{ fontFamily: 'Ubuntu', fontWeight: 'bolder' }}>Add Note :-</div>\r\n      {isLoading ? (\r\n        <div className=\"mt-5\">\r\n          <Loader />\r\n        </div>\r\n      ) : (\r\n        <form>\r\n          <div className=\"mb-2 mt-1\">\r\n            <label htmlFor=\"categoryName\" className=\"form-label\">Category name <span className='text-danger'>*</span></label>\r\n            <input type=\"text\" value={category} onChange={updateCategory} className=\"form-control\" id=\"categoryName\" aria-describedby=\"emailHelp\" required={true} />\r\n            <div className=\"form-text\">Enter a valid category name to add a note.</div>\r\n          </div>\r\n          <div className=\"mb-3\">\r\n            <label htmlFor=\"Title\" className=\"form-label\">Note title <span className='text-danger'>*</span></label>\r\n            <input type=\"text\" value={noteTitle} onChange={updateNoteTitle} className=\"form-control\" id=\"Title\" required={true} />\r\n          </div>\r\n          <div className=\"mb-3\">\r\n            <textarea name=\"\" id=\"\" value={description} cols=\"8\" rows=\"4\" onChange={updateDescription} className='form-control' required={true} placeholder='Enter your note..'>{description}</textarea>\r\n          </div>\r\n          <div className=\"text-center\"><button type=\"button\" onClick={submitDetails} className=\"btn btn-primary \">Add Note</button></div>\r\n        </form>\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default AddNoteForm\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}