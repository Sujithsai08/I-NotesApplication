{"ast":null,"code":"import _slicedToArray from\"D:/vs_code/React_applications_learning/i-notes/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useState}from'react';import{Link,useNavigate}from'react-router-dom';import Swal from'sweetalert2';import axios from'axios';import Navbar from'./Navbar';import\"bootstrap/dist/css/bootstrap.min.css\";import userContext from'../contexts/UserContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var LoginForm=function LoginForm(){var navigate=useNavigate();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var styles={backdropFilter:'blur(20px)',height:\"87vh\",backgroundSize:\"cover\",background:\"url(/image/login.jpeg)\"};var style1={backdropFilter:'5px',background:\"no-repeat\",border:\"1px solid white\",borderRadius:\"20px\"};var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];//use navigate hook is used to redirect to another page by push method.\nvar emailUpdated=function emailUpdated(e){setEmail(e.target.value);};var passwordUpdated=function passwordUpdated(e){setPassword(e.target.value);};if(isLoading){Swal.fire({title:'Be patient!',text:'Validating your credentials.',imageUrl:'/gifs/load.gif',imageWidth:400,imageHeight:200,imageAlt:'Custom image',showConfirmButton:false,allowOutsideClick:function allowOutsideClick(){return!Swal.isLoading();}});}var userObj=useContext(userContext);var validateUser=function validateUser(){setIsLoading(function(prevState){return!prevState;});var url=\"https://inotes-application.onrender.com/auth/login\";var obj={email:email,password:password};axios.post(url,obj).then(function(response){var token='Bearer '+response.data.jwtToken;localStorage.setItem(\"tokenForValidation\",token);localStorage.setItem(\"user\",response.data.username);userObj.setLoggedUser(response.data.username);Swal.fire({icon:'success',text:'Login success Redirecting to your page !!!',timer:2000,showConfirmButton:false}).then(function(){navigate(\"/user/home\");});}).catch(function(error){if(error.response){if(error.response.status!==200){Swal.fire({icon:'error',title:'Error Occured !!!',confirmButtonText:'OK',text:error.response.data}).then(function(){setEmail(\"\");setPassword(\"\");});}}}).finally(function(){setIsLoading(false);});};var detailsSubmitted=function detailsSubmitted(){if(email.includes(\"@\")){validateUser();}else{Swal.fire({icon:'info',text:'Enter a valid Credentials to authenticate !!!',showConfirmButton:false,timer:1900});}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"div\",{style:styles,children:/*#__PURE__*/_jsx(\"div\",{className:\"container mt-5\",style:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"card mt-5\",style:style1,children:[/*#__PURE__*/_jsx(\"div\",{className:\"mt-4\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row mt-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"fs-1 text-light\",children:\"Sign in\"}),/*#__PURE__*/_jsxs(\"label\",{className:\"mt-2\",children:[\"New User ? \",/*#__PURE__*/_jsx(Link,{to:\"/get-started\",style:{textDecoration:\"none\"},children:\"Create an account\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mt-4\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"text-light\",children:[\"Username \",/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,value:email,onChange:emailUpdated,className:\"form-control mt-1\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mt-1\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"text-light\",children:[\"Password \",/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",required:true,value:password,onChange:passwordUpdated,className:\"form-control mt-1\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center mt-4\",children:/*#__PURE__*/_jsx(\"input\",{type:\"button\",onClick:detailsSubmitted,value:\"Submit\",className:\"btn text-light btn-md\",style:{background:\"linear-gradient(90deg,#E80A89 0%, #F15B2A 100%)\"}})})]})]})})})]});};export default LoginForm;","map":{"version":3,"names":["React","useContext","useState","Link","useNavigate","Swal","axios","Navbar","userContext","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","LoginForm","navigate","_useState","_useState2","_slicedToArray","isLoading","setIsLoading","styles","backdropFilter","height","backgroundSize","background","style1","border","borderRadius","_useState3","_useState4","email","setEmail","_useState5","_useState6","password","setPassword","emailUpdated","e","target","value","passwordUpdated","fire","title","text","imageUrl","imageWidth","imageHeight","imageAlt","showConfirmButton","allowOutsideClick","userObj","validateUser","prevState","url","obj","post","then","response","token","data","jwtToken","localStorage","setItem","username","setLoggedUser","icon","timer","catch","error","status","confirmButtonText","finally","detailsSubmitted","includes","children","style","className","display","justifyContent","alignItems","to","textDecoration","type","required","onChange","onClick"],"sources":["D:/vs_code/React_applications_learning/i-notes/src/components/LoginForm.js"],"sourcesContent":["import React, { useContext, useState } from 'react'\r\nimport { Link, useNavigate } from 'react-router-dom'\r\nimport Swal from 'sweetalert2'\r\nimport axios from 'axios'\r\nimport Navbar from './Navbar'\r\nimport \"bootstrap/dist/css/bootstrap.min.css\"\r\nimport userContext from '../contexts/UserContext'\r\nconst LoginForm = () => {\r\n\r\n    const navigate = useNavigate();\r\n    const [isLoading, setIsLoading] = useState(false);\r\n\r\n    const styles = {\r\n        backdropFilter: 'blur(20px)',\r\n        height: \"87vh\",\r\n        backgroundSize: \"cover\",\r\n        background: \"url(/image/login.jpeg)\"\r\n    }\r\n    const style1 = {\r\n        backdropFilter: '5px',\r\n        background: \"no-repeat\",\r\n        border: \"1px solid white\",\r\n        borderRadius: \"20px\"\r\n    }\r\n\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\")\r\n    //use navigate hook is used to redirect to another page by push method.\r\n\r\n    const emailUpdated = (e) => {\r\n        setEmail(e.target.value)\r\n    }\r\n\r\n    const passwordUpdated = (e) => {\r\n        setPassword(e.target.value)\r\n    }\r\n\r\n    if(isLoading){\r\n        Swal.fire({\r\n            title: 'Be patient!',\r\n            text: 'Validating your credentials.',\r\n            imageUrl: '/gifs/load.gif',\r\n            imageWidth: 400,\r\n            imageHeight: 200,\r\n            imageAlt: 'Custom image',\r\n            showConfirmButton: false,\r\n            allowOutsideClick: () => !Swal.isLoading()\r\n          })\r\n    }\r\n\r\n    const userObj = useContext(userContext)\r\n    const validateUser = () => {\r\n        setIsLoading((prevState) => !prevState)\r\n        let url = \"https://inotes-application.onrender.com/auth/login\";\r\n        let obj = {\r\n            email: email,\r\n            password: password\r\n        }\r\n        axios.post(url, obj)\r\n            .then((response) => {\r\n                let token = 'Bearer ' + response.data.jwtToken\r\n                localStorage.setItem(\"tokenForValidation\", token)\r\n                localStorage.setItem(\"user\", response.data.username)\r\n                userObj.setLoggedUser(response.data.username)\r\n                Swal.fire({ icon: 'success', text: 'Login success Redirecting to your page !!!', timer: 2000, showConfirmButton: false }).then(() => {\r\n                    navigate(\"/user/home\")\r\n                })\r\n            })\r\n            .catch((error) => {\r\n                if (error.response) {\r\n                    if (error.response.status !== 200) {\r\n                        Swal.fire({\r\n                            icon: 'error',\r\n                            title: 'Error Occured !!!',\r\n                            confirmButtonText: 'OK',\r\n                            text: error.response.data\r\n                        }).then(() => {\r\n                            setEmail(\"\")\r\n                            setPassword(\"\")\r\n                        })\r\n                    }\r\n                }\r\n            }).finally(() => {\r\n                setIsLoading(false)\r\n            });\r\n    }\r\n\r\n    const detailsSubmitted = () => {\r\n        if (email.includes(\"@\")) {\r\n            validateUser()\r\n        } else {\r\n            Swal.fire({\r\n                icon: 'info',\r\n                text: 'Enter a valid Credentials to authenticate !!!',\r\n                showConfirmButton: false,\r\n                timer: 1900,\r\n            })\r\n        }\r\n    }\r\n    return (\r\n        <>\r\n            <Navbar />\r\n            <div style={styles} >\r\n                <div className=\"container mt-5\" style={{ display: \"flex\", justifyContent: \"center\", alignItems: \"center\" }}>\r\n                    <div className=\"card mt-5\" style={style1}>\r\n                        <div className=\"mt-4\"></div>\r\n                        <div className=\"card-body\">\r\n                            <div className=\"row mt-1\">\r\n                                <div className=\"row\">\r\n                                    <label className='fs-1 text-light'>Sign in</label>\r\n                                    <label className='mt-2'>New User ? <Link to=\"/get-started\" style={{ textDecoration: \"none\" }}>Create an account</Link></label>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"form-group mt-4\">\r\n                                <label className=\"text-light\">Username <span className=\"text-danger\">*</span></label>\r\n                                <input type=\"text\" required value={email} onChange={emailUpdated} className=\"form-control mt-1\" />\r\n                            </div>\r\n                            <div className=\"form-group mt-1\">\r\n                                <label className=\"text-light\">Password <span className=\"text-danger\">*</span></label>\r\n                                <input type=\"password\" required value={password} onChange={passwordUpdated} className=\"form-control mt-1\" />\r\n                            </div>\r\n                            <div className=\"text-center mt-4\">\r\n                                {/* <input type=\"submit\" value=\"Submit\" className=\"btn bt-danger mt-3\" /> */}\r\n                                <input type=\"button\" onClick={detailsSubmitted} value=\"Submit\" className=\"btn text-light btn-md\" style={{ background: \"linear-gradient(90deg,#E80A89 0%, #F15B2A 100%)\" }} />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default LoginForm\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}