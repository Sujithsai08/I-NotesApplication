{"ast":null,"code":"import _slicedToArray from\"D:/vs_code/React_applications_learning/i-notes/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios,{HttpStatusCode}from'axios';import React,{useState,useContext}from'react';import Swal from'sweetalert2';import Loader from'../Loader';import userContext from'../../contexts/UserContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function EditDetails(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isLoadForPassword=_useState6[0],setIsLoadForPassword=_useState6[1];var updateName=function updateName(e){setName(e.target.value);};var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),password=_useState8[0],setPassword=_useState8[1];var updatePassword=function updatePassword(e){setPassword(e.target.value);};var submitPassword=function submitPassword(){console.log(password.length);if(password.length>8){Swal.fire({title:'Are you sure?',text:\"Your password will set to \".concat(password,\" from now\"),icon:'warning',showCancelButton:true,confirmButtonColor:'#3085d6',cancelButtonColor:'#d33'}).then(function(result){if(result.isConfirmed){setIsLoadForPassword(function(prev){return!prev;});var config={headers:{'Authorization':localStorage.getItem('tokenForValidation')}};var url='https://inotes-application.onrender.com/user/updatePassword';var body={'password':password};axios.put(url,body,config).then(function(res){if(res.status===HttpStatusCode.Ok){Swal.fire({title:'success',text:\"Password updated : \".concat(password),icon:'success'});setPassword(\"\");}else{Swal.fire(\"Error\",\"Something went wrong!\",\"error\");}}).catch(function(err){if(err.response){Swal.fire({title:\"Error !\",icon:'error',text:\"\".concat(err.response.data)});}else{Swal.fire(\"Something went wrong\",\"Please try again later!\",\"warning\");}setPassword(\"\");}).finally(function(){setIsLoadForPassword(false);});}});}else{Swal.fire({icon:'info',text:'Password should be greater than 8 words.'});}};var userObj=useContext(userContext);var submitName=function submitName(){if(name.length!==0){setIsLoading(function(prevState){return!prevState;});var config={headers:{'Authorization':localStorage.getItem('tokenForValidation')}};var url='https://inotes-application.onrender.com/user/updateName';var body={'name':name};axios.put(url,body,config).then(function(res){if(res.status===HttpStatusCode.Ok){Swal.fire({title:'success',text:\"Name updated : \".concat(name),icon:'success'});setName(\"\");userObj.setLoggedUser(function(){return name;});}else{Swal.fire(\"Error\",\"Something went wrong!\",\"error\");}}).catch(function(err){if(err.response){Swal.fire({title:\"Error !\",icon:'error',text:\"\".concat(err.response.data)});}else{Swal.fire(\"Something went wrong\",\"Please try again later!\",\"warning\");}setName(\"\");}).finally(function(){setIsLoading(false);});}else{Swal.fire({title:\"Enter valid Name\",icon:'warning',timer:2000}).then(function(){setName('');});}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"fs-3 mt-1\",style:{fontFamily:'Ubuntu',fontWeight:'bolder'},children:\"Edit Name :-\"}),isLoading?/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[\" \",/*#__PURE__*/_jsx(Loader,{})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2 mt-1\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter name\",value:name,onChange:updateName,className:\"form-control\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center mt-3\",children:/*#__PURE__*/_jsx(\"button\",{onClick:submitName,className:\"btn btn-primary btn-md\",children:\"Submit\"})})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"fs-3 mt-1\",style:{fontFamily:'Ubuntu',fontWeight:'bolder'},children:\"Edit password :-\"}),isLoadForPassword?/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[\" \",/*#__PURE__*/_jsx(Loader,{})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2 mt-1\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Enter password\",value:password,onChange:updatePassword,className:\"form-control\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center mt-3\",children:/*#__PURE__*/_jsx(\"button\",{onClick:submitPassword,className:\"btn btn-primary btn-md\",children:\"Submit\"})})]})]});}export default EditDetails;","map":{"version":3,"names":["axios","HttpStatusCode","React","useState","useContext","Swal","Loader","userContext","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","EditDetails","_useState","_useState2","_slicedToArray","name","setName","_useState3","_useState4","isLoading","setIsLoading","_useState5","_useState6","isLoadForPassword","setIsLoadForPassword","updateName","e","target","value","_useState7","_useState8","password","setPassword","updatePassword","submitPassword","console","log","length","fire","title","text","concat","icon","showCancelButton","confirmButtonColor","cancelButtonColor","then","result","isConfirmed","prev","config","headers","localStorage","getItem","url","body","put","res","status","Ok","catch","err","response","data","finally","userObj","submitName","prevState","setLoggedUser","timer","children","className","style","fontFamily","fontWeight","type","placeholder","onChange","onClick"],"sources":["D:/vs_code/React_applications_learning/i-notes/src/components/user/EditDetails.js"],"sourcesContent":["import axios, { HttpStatusCode } from 'axios';\r\nimport React, { useState, useContext } from 'react'\r\nimport Swal from 'sweetalert2';\r\nimport Loader from '../Loader'\r\nimport userContext from '../../contexts/UserContext'\r\nfunction EditDetails() {\r\n\r\n    const [name, setName] = useState('')\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [isLoadForPassword, setIsLoadForPassword] = useState(false);\r\n\r\n    const updateName = (e) => {\r\n        setName(e.target.value)\r\n    }\r\n    const [password, setPassword] = useState('')\r\n    const updatePassword = (e) => {\r\n        setPassword(e.target.value)\r\n    }\r\n    const submitPassword = () => {\r\n        console.log(password.length)\r\n        if (password.length > 8) {\r\n            Swal.fire({\r\n                title: 'Are you sure?',\r\n                text: `Your password will set to ${password} from now`,\r\n                icon: 'warning',\r\n                showCancelButton: true,\r\n                confirmButtonColor: '#3085d6',\r\n                cancelButtonColor: '#d33',\r\n            }).then((result) => {\r\n                if (result.isConfirmed) {\r\n                    setIsLoadForPassword((prev) => { return !prev })\r\n                    const config = {\r\n                        headers: {\r\n                            'Authorization': localStorage.getItem('tokenForValidation')\r\n                        }\r\n                    };\r\n                    let url = 'https://inotes-application.onrender.com/user/updatePassword'\r\n                    let body = { 'password': password }\r\n                    axios.put(url, body, config).then(res => {\r\n                        if (res.status === HttpStatusCode.Ok) {\r\n                            Swal.fire({ title: 'success', text: `Password updated : ${password}`, icon: 'success' })\r\n                            setPassword(\"\")\r\n                        } else {\r\n                            Swal.fire(\"Error\", \"Something went wrong!\", \"error\");\r\n                        }\r\n                    }).catch(err => {\r\n                        if (err.response) {\r\n                            Swal.fire({ title: \"Error !\", icon: 'error', text: `${err.response.data}` })\r\n                        } else {\r\n                            Swal.fire(\"Something went wrong\", \"Please try again later!\", \"warning\")\r\n                        }\r\n                        setPassword(\"\")\r\n                    }).finally(() => { setIsLoadForPassword(false) })\r\n                }\r\n            })\r\n        } else {\r\n            Swal.fire({ icon: 'info', text: 'Password should be greater than 8 words.' })\r\n        }\r\n    }\r\n\r\n    const userObj = useContext(userContext);\r\n    const submitName = () => {\r\n        if (name.length !== 0) {\r\n            setIsLoading((prevState) => !prevState)\r\n            const config = {\r\n                headers: {\r\n                    'Authorization': localStorage.getItem('tokenForValidation')\r\n                }\r\n            };\r\n            let url = 'https://inotes-application.onrender.com/user/updateName'\r\n            let body = { 'name': name }\r\n            axios.put(url, body, config).then(res => {\r\n                if (res.status === HttpStatusCode.Ok) {\r\n                    Swal.fire({ title: 'success', text: `Name updated : ${name}`, icon: 'success' })\r\n                    setName(\"\")\r\n                    userObj.setLoggedUser(() => { return name })\r\n                } else {\r\n                    Swal.fire(\"Error\", \"Something went wrong!\", \"error\");\r\n                }\r\n            }).catch(err => {\r\n                if (err.response) {\r\n                    Swal.fire({ title: \"Error !\", icon: 'error', text: `${err.response.data}` })\r\n                } else {\r\n                    Swal.fire(\"Something went wrong\", \"Please try again later!\", \"warning\")\r\n                }\r\n                setName(\"\")\r\n            }).finally(() => { setIsLoading(false) })\r\n        } else {\r\n            Swal.fire({ title: \"Enter valid Name\", icon: 'warning', timer: 2000 }).then(() => { setName('') })\r\n        }\r\n\r\n    }\r\n    return (\r\n        <>\r\n            <div className=\"fs-3 mt-1\" style={{ fontFamily: 'Ubuntu', fontWeight: 'bolder' }}>Edit Name :-</div>\r\n            {isLoading ? (<div className=\"mt-4\"> <Loader /></div>) : (\r\n                <div className=\"mb-2 mt-1\">\r\n                    <input type=\"text\" placeholder='Enter name' value={name} onChange={updateName} className=\"form-control\" />\r\n                    <div className=\"text-center mt-3\"><button onClick={submitName} className='btn btn-primary btn-md'>Submit</button></div>\r\n                </div>\r\n            )}\r\n            <hr />\r\n            <div className=\"fs-3 mt-1\" style={{ fontFamily: 'Ubuntu', fontWeight: 'bolder' }}>Edit password :-</div>\r\n            {isLoadForPassword ? (<div className=\"mt-4\"> <Loader /></div>) : (\r\n                <div className=\"mb-2 mt-1\">\r\n                    <input type=\"password\" placeholder='Enter password' value={password} onChange={updatePassword} className=\"form-control\" />\r\n                    <div className=\"text-center mt-3\"><button onClick={submitPassword} className='btn btn-primary btn-md'>Submit</button></div>\r\n                </div>\r\n            )}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default EditDetails\r\n"],"mappings":"oIAAA,MAAO,CAAAA,KAAK,EAAIC,cAAc,KAAQ,OAAO,CAC7C,MAAO,CAAAC,KAAK,EAAIC,QAAQ,CAAEC,UAAU,KAAQ,OAAO,CACnD,MAAO,CAAAC,IAAI,KAAM,aAAa,CAC9B,MAAO,CAAAC,MAAM,KAAM,WAAW,CAC9B,MAAO,CAAAC,WAAW,KAAM,4BAA4B,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBACpD,QAAS,CAAAC,WAAWA,CAAA,CAAG,CAEnB,IAAAC,SAAA,CAAwBZ,QAAQ,CAAC,EAAE,CAAC,CAAAa,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA7BG,IAAI,CAAAF,UAAA,IAAEG,OAAO,CAAAH,UAAA,IACpB,IAAAI,UAAA,CAAkCjB,QAAQ,CAAC,KAAK,CAAC,CAAAkB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAA1CE,SAAS,CAAAD,UAAA,IAAEE,YAAY,CAAAF,UAAA,IAC9B,IAAAG,UAAA,CAAkDrB,QAAQ,CAAC,KAAK,CAAC,CAAAsB,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAA1DE,iBAAiB,CAAAD,UAAA,IAAEE,oBAAoB,CAAAF,UAAA,IAE9C,GAAM,CAAAG,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAIC,CAAC,CAAK,CACtBV,OAAO,CAACU,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAC3B,CAAC,CACD,IAAAC,UAAA,CAAgC7B,QAAQ,CAAC,EAAE,CAAC,CAAA8B,UAAA,CAAAhB,cAAA,CAAAe,UAAA,IAArCE,QAAQ,CAAAD,UAAA,IAAEE,WAAW,CAAAF,UAAA,IAC5B,GAAM,CAAAG,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAIP,CAAC,CAAK,CAC1BM,WAAW,CAACN,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAC/B,CAAC,CACD,GAAM,CAAAM,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAA,CAAS,CACzBC,OAAO,CAACC,GAAG,CAACL,QAAQ,CAACM,MAAM,CAAC,CAC5B,GAAIN,QAAQ,CAACM,MAAM,CAAG,CAAC,CAAE,CACrBnC,IAAI,CAACoC,IAAI,CAAC,CACNC,KAAK,CAAE,eAAe,CACtBC,IAAI,8BAAAC,MAAA,CAA+BV,QAAQ,aAAW,CACtDW,IAAI,CAAE,SAAS,CACfC,gBAAgB,CAAE,IAAI,CACtBC,kBAAkB,CAAE,SAAS,CAC7BC,iBAAiB,CAAE,MACvB,CAAC,CAAC,CAACC,IAAI,CAAC,SAACC,MAAM,CAAK,CAChB,GAAIA,MAAM,CAACC,WAAW,CAAE,CACpBxB,oBAAoB,CAAC,SAACyB,IAAI,CAAK,CAAE,MAAO,CAACA,IAAI,CAAC,CAAC,CAAC,CAChD,GAAM,CAAAC,MAAM,CAAG,CACXC,OAAO,CAAE,CACL,eAAe,CAAEC,YAAY,CAACC,OAAO,CAAC,oBAAoB,CAC9D,CACJ,CAAC,CACD,GAAI,CAAAC,GAAG,CAAG,6DAA6D,CACvE,GAAI,CAAAC,IAAI,CAAG,CAAE,UAAU,CAAExB,QAAS,CAAC,CACnClC,KAAK,CAAC2D,GAAG,CAACF,GAAG,CAAEC,IAAI,CAAEL,MAAM,CAAC,CAACJ,IAAI,CAAC,SAAAW,GAAG,CAAI,CACrC,GAAIA,GAAG,CAACC,MAAM,GAAK5D,cAAc,CAAC6D,EAAE,CAAE,CAClCzD,IAAI,CAACoC,IAAI,CAAC,CAAEC,KAAK,CAAE,SAAS,CAAEC,IAAI,uBAAAC,MAAA,CAAwBV,QAAQ,CAAE,CAAEW,IAAI,CAAE,SAAU,CAAC,CAAC,CACxFV,WAAW,CAAC,EAAE,CAAC,CACnB,CAAC,IAAM,CACH9B,IAAI,CAACoC,IAAI,CAAC,OAAO,CAAE,uBAAuB,CAAE,OAAO,CAAC,CACxD,CACJ,CAAC,CAAC,CAACsB,KAAK,CAAC,SAAAC,GAAG,CAAI,CACZ,GAAIA,GAAG,CAACC,QAAQ,CAAE,CACd5D,IAAI,CAACoC,IAAI,CAAC,CAAEC,KAAK,CAAE,SAAS,CAAEG,IAAI,CAAE,OAAO,CAAEF,IAAI,IAAAC,MAAA,CAAKoB,GAAG,CAACC,QAAQ,CAACC,IAAI,CAAG,CAAC,CAAC,CAChF,CAAC,IAAM,CACH7D,IAAI,CAACoC,IAAI,CAAC,sBAAsB,CAAE,yBAAyB,CAAE,SAAS,CAAC,CAC3E,CACAN,WAAW,CAAC,EAAE,CAAC,CACnB,CAAC,CAAC,CAACgC,OAAO,CAAC,UAAM,CAAExC,oBAAoB,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CACrD,CACJ,CAAC,CAAC,CACN,CAAC,IAAM,CACHtB,IAAI,CAACoC,IAAI,CAAC,CAAEI,IAAI,CAAE,MAAM,CAAEF,IAAI,CAAE,0CAA2C,CAAC,CAAC,CACjF,CACJ,CAAC,CAED,GAAM,CAAAyB,OAAO,CAAGhE,UAAU,CAACG,WAAW,CAAC,CACvC,GAAM,CAAA8D,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAA,CAAS,CACrB,GAAInD,IAAI,CAACsB,MAAM,GAAK,CAAC,CAAE,CACnBjB,YAAY,CAAC,SAAC+C,SAAS,QAAK,CAACA,SAAS,GAAC,CACvC,GAAM,CAAAjB,MAAM,CAAG,CACXC,OAAO,CAAE,CACL,eAAe,CAAEC,YAAY,CAACC,OAAO,CAAC,oBAAoB,CAC9D,CACJ,CAAC,CACD,GAAI,CAAAC,GAAG,CAAG,yDAAyD,CACnE,GAAI,CAAAC,IAAI,CAAG,CAAE,MAAM,CAAExC,IAAK,CAAC,CAC3BlB,KAAK,CAAC2D,GAAG,CAACF,GAAG,CAAEC,IAAI,CAAEL,MAAM,CAAC,CAACJ,IAAI,CAAC,SAAAW,GAAG,CAAI,CACrC,GAAIA,GAAG,CAACC,MAAM,GAAK5D,cAAc,CAAC6D,EAAE,CAAE,CAClCzD,IAAI,CAACoC,IAAI,CAAC,CAAEC,KAAK,CAAE,SAAS,CAAEC,IAAI,mBAAAC,MAAA,CAAoB1B,IAAI,CAAE,CAAE2B,IAAI,CAAE,SAAU,CAAC,CAAC,CAChF1B,OAAO,CAAC,EAAE,CAAC,CACXiD,OAAO,CAACG,aAAa,CAAC,UAAM,CAAE,MAAO,CAAArD,IAAI,CAAC,CAAC,CAAC,CAChD,CAAC,IAAM,CACHb,IAAI,CAACoC,IAAI,CAAC,OAAO,CAAE,uBAAuB,CAAE,OAAO,CAAC,CACxD,CACJ,CAAC,CAAC,CAACsB,KAAK,CAAC,SAAAC,GAAG,CAAI,CACZ,GAAIA,GAAG,CAACC,QAAQ,CAAE,CACd5D,IAAI,CAACoC,IAAI,CAAC,CAAEC,KAAK,CAAE,SAAS,CAAEG,IAAI,CAAE,OAAO,CAAEF,IAAI,IAAAC,MAAA,CAAKoB,GAAG,CAACC,QAAQ,CAACC,IAAI,CAAG,CAAC,CAAC,CAChF,CAAC,IAAM,CACH7D,IAAI,CAACoC,IAAI,CAAC,sBAAsB,CAAE,yBAAyB,CAAE,SAAS,CAAC,CAC3E,CACAtB,OAAO,CAAC,EAAE,CAAC,CACf,CAAC,CAAC,CAACgD,OAAO,CAAC,UAAM,CAAE5C,YAAY,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAC7C,CAAC,IAAM,CACHlB,IAAI,CAACoC,IAAI,CAAC,CAAEC,KAAK,CAAE,kBAAkB,CAAEG,IAAI,CAAE,SAAS,CAAE2B,KAAK,CAAE,IAAK,CAAC,CAAC,CAACvB,IAAI,CAAC,UAAM,CAAE9B,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CACtG,CAEJ,CAAC,CACD,mBACIR,KAAA,CAAAE,SAAA,EAAA4D,QAAA,eACIhE,IAAA,QAAKiE,SAAS,CAAC,WAAW,CAACC,KAAK,CAAE,CAAEC,UAAU,CAAE,QAAQ,CAAEC,UAAU,CAAE,QAAS,CAAE,CAAAJ,QAAA,CAAC,cAAY,CAAK,CAAC,CACnGnD,SAAS,cAAIX,KAAA,QAAK+D,SAAS,CAAC,MAAM,CAAAD,QAAA,EAAC,GAAC,cAAAhE,IAAA,CAACH,MAAM,GAAE,CAAC,EAAK,CAAC,cACjDK,KAAA,QAAK+D,SAAS,CAAC,WAAW,CAAAD,QAAA,eACtBhE,IAAA,UAAOqE,IAAI,CAAC,MAAM,CAACC,WAAW,CAAC,YAAY,CAAChD,KAAK,CAAEb,IAAK,CAAC8D,QAAQ,CAAEpD,UAAW,CAAC8C,SAAS,CAAC,cAAc,CAAE,CAAC,cAC1GjE,IAAA,QAAKiE,SAAS,CAAC,kBAAkB,CAAAD,QAAA,cAAChE,IAAA,WAAQwE,OAAO,CAAEZ,UAAW,CAACK,SAAS,CAAC,wBAAwB,CAAAD,QAAA,CAAC,QAAM,CAAQ,CAAC,CAAK,CAAC,EACtH,CACR,cACDhE,IAAA,QAAK,CAAC,cACNA,IAAA,QAAKiE,SAAS,CAAC,WAAW,CAACC,KAAK,CAAE,CAAEC,UAAU,CAAE,QAAQ,CAAEC,UAAU,CAAE,QAAS,CAAE,CAAAJ,QAAA,CAAC,kBAAgB,CAAK,CAAC,CACvG/C,iBAAiB,cAAIf,KAAA,QAAK+D,SAAS,CAAC,MAAM,CAAAD,QAAA,EAAC,GAAC,cAAAhE,IAAA,CAACH,MAAM,GAAE,CAAC,EAAK,CAAC,cACzDK,KAAA,QAAK+D,SAAS,CAAC,WAAW,CAAAD,QAAA,eACtBhE,IAAA,UAAOqE,IAAI,CAAC,UAAU,CAACC,WAAW,CAAC,gBAAgB,CAAChD,KAAK,CAAEG,QAAS,CAAC8C,QAAQ,CAAE5C,cAAe,CAACsC,SAAS,CAAC,cAAc,CAAE,CAAC,cAC1HjE,IAAA,QAAKiE,SAAS,CAAC,kBAAkB,CAAAD,QAAA,cAAChE,IAAA,WAAQwE,OAAO,CAAE5C,cAAe,CAACqC,SAAS,CAAC,wBAAwB,CAAAD,QAAA,CAAC,QAAM,CAAQ,CAAC,CAAK,CAAC,EAC1H,CACR,EACH,CAAC,CAEX,CAEA,cAAe,CAAA3D,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}