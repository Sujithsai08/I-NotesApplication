{"ast":null,"code":"import _regeneratorRuntime from\"D:/vs_code/React_applications_learning/i-notes/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/vs_code/React_applications_learning/i-notes/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/vs_code/React_applications_learning/i-notes/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useState}from'react';import Notes from'./Notes';import categoryContext from'../../contexts/CategoryContext';import Swal from'sweetalert2';import Loader from'../Loader';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var CategoryItem=function CategoryItem(props){var category=props.category;var obj=useContext(categoryContext);var deleteCategory=obj.deleteCategory,updateCategory=obj.updateCategory;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"row m-2 p-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card p-0\",children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"card-header bg-disable\",style:{fontFamily:'Nunito',fontWeight:'bold',fontSize:'1.4em'},children:[\"#\".concat(category.id,\" :-  \").concat(category.name),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"img\",{src:\"/image/bin.png\",className:\"mx-2\",onClick:function onClick(){Swal.fire({title:'Are you sure?',text:\"If you delete, All notes belongs to this category will be deleted !!!\",icon:'warning',showCancelButton:true,confirmButtonColor:'#3085d6',cancelButtonColor:'#d33',confirmButtonText:'Yes, Delete !'}).then(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(result){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(!result.isConfirmed){_context.next=4;break;}setIsLoading(function(prevState){return!prevState;});//here the loading is started we are awaiting for this function to execute .so in .finally executes \n//first only before the axios del request sent to server . we pass the setLoading fun to \n//delete category and set loading false there...\n_context.next=4;return deleteCategory(category.id,setIsLoading);case 4:case\"end\":return _context.stop();}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());},style:{height:'30px',width:'30px',cursor:'pointer'},alt:\"Delete\"})}),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"img\",{src:\"/image/edit.png\",onClick:function onClick(){updateCategory(category.id);},style:{height:'30px',width:'30px',cursor:'pointer'},alt:\"Delete\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:isLoading?/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[\" \",/*#__PURE__*/_jsx(Loader,{})]}):/*#__PURE__*/_jsx(Notes,{notes:category.notes,categoryName:category.name})})]})})});};export default CategoryItem;","map":{"version":3,"names":["React","useContext","useState","Notes","categoryContext","Swal","Loader","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CategoryItem","props","category","obj","deleteCategory","updateCategory","_useState","_useState2","_slicedToArray","isLoading","setIsLoading","children","className","style","fontFamily","fontWeight","fontSize","concat","id","name","src","onClick","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","then","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","result","wrap","_callee$","_context","prev","next","isConfirmed","prevState","stop","_x","apply","arguments","height","width","cursor","alt","notes","categoryName"],"sources":["D:/vs_code/React_applications_learning/i-notes/src/components/user/CategoryItem.js"],"sourcesContent":["import React, { useContext, useState } from 'react'\r\nimport Notes from './Notes'\r\nimport categoryContext from '../../contexts/CategoryContext'\r\nimport Swal from 'sweetalert2'\r\nimport Loader from '../Loader'\r\nconst CategoryItem = (props) => {\r\n  const category = props.category\r\n  const obj = useContext(categoryContext)\r\n  const { deleteCategory, updateCategory } = obj\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  return (\r\n    <>\r\n      <div className=\"row m-2 p-2\">\r\n        <div className=\"card p-0\">\r\n          <h5 className=\"card-header bg-disable\" style={{ fontFamily: 'Nunito', fontWeight: 'bold', fontSize: '1.4em' }}>\r\n            {`#${category.id} :-  ${category.name}`}\r\n            <span><img src=\"/image/bin.png\" className='mx-2' onClick={() => {\r\n              Swal.fire({\r\n                title: 'Are you sure?',\r\n                text: \"If you delete, All notes belongs to this category will be deleted !!!\",\r\n                icon: 'warning',\r\n                showCancelButton: true,\r\n                confirmButtonColor: '#3085d6',\r\n                cancelButtonColor: '#d33',\r\n                confirmButtonText: 'Yes, Delete !'\r\n              }).then(async (result) => {\r\n                if (result.isConfirmed) {\r\n                  setIsLoading((prevState) => !prevState)\r\n                  //here the loading is started we are awaiting for this function to execute .so in .finally executes \r\n                  //first only before the axios del request sent to server . we pass the setLoading fun to \r\n                  //delete category and set loading false there...\r\n                  await deleteCategory(category.id,setIsLoading)\r\n                }\r\n              }) \r\n            }} style={{ height: '30px', width: '30px', cursor: 'pointer' }} alt=\"Delete\" /></span>\r\n            <span><img src=\"/image/edit.png\" onClick={() => { updateCategory(category.id) }} style={{ height: '30px', width: '30px', cursor: 'pointer' }} alt=\"Delete\" /></span>\r\n          </h5>\r\n          <div className=\"card-body\">\r\n            {isLoading ? (<div className=\"mt-4\"> <Loader /></div>) : (<Notes notes={category.notes} categoryName={category.name} />)}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default CategoryItem\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}